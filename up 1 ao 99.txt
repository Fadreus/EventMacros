#campo dos aprendizes by HenryBK

automacro moveToSprakkiOutside {
	exclusive 1
	InMap new_1-1, new_2-1, new_3-1, new_4-1, new_5-1
	BaseLevel = 1
	NpcNotNear /Sprakki/
	QuestInactive 7117
	call {
		do move 52 113
	}
}

automacro TalkSprakkiOutside {
	exclusive 1
	InMap new_1-1, new_2-1, new_3-1, new_4-1, new_5-1
	BaseLevel = 1
	NpcNear /Sprakki/
	QuestInactive 7117
	call {
	    [
		do conf autoMoveOnDeath 1
		do conf autoMoveOnDeath_x none
		do conf autoMoveOnDeath_y none
		do conf autoMoveOnDeath_map none
		do conf saveMap none
		do conf saveMap_warpToBuyOrSell 0
		do conf sellAuto 0
		do conf storageAuto 0
		do conf storageAuto_npc none
		do conf getAuto_0 none
		do conf autoTalkCont 0
		do conf sitAuto_idle 0
		do conf sitAuto_hp_lower 40
		do conf sitAuto_hp_upper 80
		do conf itemsTakeAuto 0
		do conf itemsGatherAuto 0
		do conf lockMap none
		do conf attackAuto_inLockOnly 0
		do conf route_randomWalk 0
		do conf statsAddAuto 1
		do conf statsAddAuto_list 15 agi, 20 dex, 25 agi, 20 str, 30 dex, 60 agi, 30 str, 40 dex, 20 vit, 80 agi, 25 luk ,60 dex, 50 str, 40 luk, 90 agi, 60 str, 29 vit
		do conf statsAddAuto_dontUseBonus 1
		do conf skillsAddAuto 1
		do conf skillsAddAuto_list NV_BASIC 9
		do conf itemsMaxWeight 49
		do conf itemsMaxWeight_sellOrStore 48
		do conf itemsMaxNum_sellOrStore 99
		do iconf 12323 0 0 0
		do iconf 12324 0 0 0
		do iconf 569 0 0 0
		do iconf 7059 50 0 0
		do iconf 7060 50 0 0
		do iconf 13040 0 0 0
		do iconf 1243 0 0 0
		do iconf 2112 0 0 0
		do iconf 5055 0 0 0
		do iconf 2414 0 0 0
		do iconf 2510 0 0 0
		do iconf 2352 0 0 0
		do iconf 1201 0 0 0
		do iconf 13041 0 0 0
		do iconf 2393 0 0 0
		do iconf 2301 0 0 0
		]
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
	}
}

automacro moveInside {
	exclusive 1
	QuestActive 7117
	InMap new_1-1, new_2-1, new_3-1, new_4-1, new_5-1
	priority 1
	call GotoInside
}

automacro moveInsideBugged1 {
	exclusive 1
	QuestInactive 7117
	BaseLevel = 2
	InMap new_1-1, new_2-1, new_3-1, new_4-1, new_5-1
	priority 1
	call GotoInside
}

automacro moveInsideBugged2 {
	exclusive 1
	QuestActive 7118
	BaseLevel = 2
	InMap new_1-1, new_2-1, new_3-1, new_4-1, new_5-1
	priority 1
	call GotoInside
}

macro GotoInside {
	$nextMap = nextMap("$.map")
	do move $nextMap 101 29
}

automacro moveNextToSprakki {
	exclusive 1
	QuestActive 7117
	NpcNotNear /Sprakki/
	BaseLevel = 1
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 1
	call GotoSpraki
}

automacro moveNextToSprakkiBugged1 {
	exclusive 1
	QuestInactive 7117
	BaseLevel = 2
	NpcNotNear /Sprakki/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 1
	call GotoSpraki
}

automacro moveNextToSprakkiBugged2 {
	exclusive 1
	QuestActive 7118
	BaseLevel = 2
	NpcNotNear /Sprakki/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 1
	call GotoSpraki
}

macro GotoSpraki {
	do move 101 29
}

automacro talkSprakkiBugged1 {
	exclusive 1
	QuestInactive 7117
	BaseLevel = 2
	NpcNear /Sprakki/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 0
	call SprakiiBuggedTalk
}

automacro talkSprakkiBugged2 {
	exclusive 1
	QuestActive 7118
	BaseLevel = 2
	NpcNear /Sprakki/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 0
	call SprakiiBuggedTalk
}

macro SprakiiBuggedTalk {
	do talk $.NpcNearLastBinId
	do talk cont
	do talk cont
	do talk resp 0
	do talk cont
	do talk cont
}

automacro talkSprakki {
	exclusive 1
	QuestActive 7117
	BaseLevel = 1
	NpcNear /Sprakki/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 0
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk resp 0
		do talk cont
		do talk cont
	}
}

automacro moveNextToBrade1 {
	exclusive 1
	QuestActive 7118
	NpcNotNear /Brade/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 2
	call MoveToBrade
}

automacro moveNextToBrade2 {
	exclusive 1
	QuestActive 7119
	NpcNotNear /Brade/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 2
	call MoveToBrade
}

macro MoveToBrade {
	do move 103 105
}

automacro talkBrade {
	exclusive 1
	QuestActive 7118
	BaseLevel = 2
	NpcNear /Brade/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 0
	call {
		do talk $.NpcNearLastBinId

		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
	}
}


automacro moveNextToBradeBugged {
	exclusive 1
	QuestInactive 7118
	QuestInactive 7119
	BaseLevel = 3
	InInventoryID 5055 = 0
	NpcNotNear /Brade/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 1
	call MoveToBrade
}

automacro talkBradeBugged {
	exclusive 1
	QuestInactive 7118
	QuestInactive 7119
	BaseLevel = 3
	InInventoryID 5055 = 0
	NpcNear /Brade/
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	priority 0
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
	}
}

automacro equipStuffForBrade {
	exclusive 1
	QuestActive 7119
	IsNotEquippedID topHead 5055, leftHand 2112, robe 2510, shoes 2414, armor 2352, rightHand 1243
	call {
		$check = GetIndexAndEquipped("topHead", 5055)
		if ($check != -1) {
			do eq $check
		}
		$check = GetIndexAndEquipped("robe", 2510)
		if ($check != -1) {
			do eq $check
		}
		$check = GetIndexAndEquipped("shoes",2414)
		if ($check != -1) {
			do eq $check
		}
		$check = GetIndexAndEquipped("armor",2352)
		if ($check != -1) {
			do eq $check
		}
		$check = GetIndexAndEquipped("leftHand",2112)
		if ($check != -1) {
			do eq $check
		}
		$check = GetIndexAndEquipped("rightHand",1243)
		if ($check != -1) {
			do eq $check
		}
	}
}

automacro talkBradeSecond {
	exclusive 1
	QuestActive 7119
	BaseLevel = 3
	IsEquippedID topHead 5055
	IsEquippedID leftHand 2112
	IsEquippedID rightHand 1243
	IsEquippedID robe 2510
	IsEquippedID armor 2352
	IsEquippedID shoes 2414
	NpcNear /Brade/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
	}
}

automacro BradeBuggedNo7120MoveJinha {
	exclusive 1
	QuestInactive 7119
	QuestInactive 7120
	BaseLevel = 4
	InInventoryID 12324 > 0
	IsEquippedID topHead 5055
	IsEquippedID leftHand 2112
	IsEquippedID rightHand 1243
	IsEquippedID robe 2510
	IsEquippedID armor 2352
	IsEquippedID shoes 2414
	SkillLevel NV_FIRSTAID = 0
	NpcNotNear /Jinha/
	call MoveJinha
}

automacro moveToGirlSkill {
	exclusive 1
	QuestActive 7120
	NpcNotNear /Jinha/
	SkillLevel NV_FIRSTAID = 0
	priority 0
	call MoveJinha
}

macro MoveJinha {
	do move 107 108
}

automacro BradeBuggedNo7120TalkJinha {
	exclusive 1
	QuestInactive 7119
	QuestInactive 7120
	BaseLevel = 4
	InInventoryID 12324 > 0
	IsEquippedID topHead 5055
	IsEquippedID leftHand 2112
	IsEquippedID rightHand 1243
	IsEquippedID robe 2510
	IsEquippedID armor 2352
	IsEquippedID shoes 2414
	SkillLevel NV_FIRSTAID = 0
	NpcNear /Jinha/
	call TalkJinha
}

automacro talkGirlSkill {
	exclusive 1
	QuestActive 7120
	NpcNear /Jinha/
	SkillLevel NV_FIRSTAID = 0
	priority 0
	call TalkJinha
}

macro TalkJinha {
	do talk $.NpcNearLastBinId
	do talk cont
	do talk resp 0
	do talk cont
	do talk cont
	do talk cont
}

automacro BradeBuggedNo7120MoveBrade {
	exclusive 1
	QuestInactive 7119
	QuestInactive 7120
	BaseLevel = 4
	InInventoryID 12324 > 0
	InInventoryID 2393 = 0
	IsEquippedID topHead 5055
	IsEquippedID leftHand 2112
	IsEquippedID rightHand 1243
	IsEquippedID robe 2510
	IsEquippedID armor 2352
	IsEquippedID shoes 2414
	SkillLevel NV_FIRSTAID = 1
	NpcNotNear /Brade/
	call MoveToBrade
}

automacro BradeBuggedNo7120TalkBrade {
	exclusive 1
	QuestInactive 7119
	QuestInactive 7120
	BaseLevel = 4
	InInventoryID 12324 > 0
	InInventoryID 2393 = 0
	IsEquippedID topHead 5055
	IsEquippedID leftHand 2112
	IsEquippedID rightHand 1243
	IsEquippedID robe 2510
	IsEquippedID armor 2352
	IsEquippedID shoes 2414
	SkillLevel NV_FIRSTAID = 1
	NpcNear /Brade/
	call TalkBradeGetTunic
}

automacro talkBradeThird {
	exclusive 1
	QuestActive 7120
	SkillLevel NV_FIRSTAID = 1
	NpcNear /Brade/
	priority 0
	call TalkBradeGetTunic
}

macro TalkBradeGetTunic {
	do talk $.NpcNearLastBinId
	do talk cont
	do talk cont
	do talk cont
}

automacro equipStuffForGirl {
	exclusive 1
	QuestInactive 7120
	InInventoryID 2393 = 1
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	IsNotEquippedID armor 2393
	call {
		$check = GetIndexAndEquipped("armor", 2393)
		if ($check != -1) {
			do eq $check
		}
	}
}

automacro moveNextToChoco {
	exclusive 1
	IsEquippedID armor 2393
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	NpcNotNear /Choco/
	priority 1
	call {
		do move 32 171
	}
}

automacro talkChoco {
	exclusive 1
	QuestInactive 7120
	QuestInactive 7121
	IsEquippedID armor 2393
	InMap new_1-2, new_2-2, new_3-2, new_4-2, new_5-2
	NpcNear /Choco/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		add_key('current_npc', 'kafra')
	}
}

automacro moveNextToGuys {
	exclusive 1
	QuestActive 7121
	NpcNotNear /(Choco|Kafra|Zonda|Soldado)/
	priority 0
	call {
		do move 32 171
	}
}

automacro talkKafra {
	exclusive 1
	QuestActive 7121
	ConfigKey current_npc kafra
	NpcNear /Kafra/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk resp 4
		do conf current_npc zonda
	}
}

automacro talkZonda {
	exclusive 1
	QuestActive 7121
	ConfigKey current_npc zonda
	NpcNear /Zonda/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do conf current_npc soldado
	}
}

automacro talkSoldado {
	exclusive 1
	QuestActive 7121
	ConfigKey current_npc soldado
	NpcNear /Soldado/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do conf current_npc choco
	}
}

automacro talkChocoAgain {
	exclusive 1
	QuestActive 7121
	ConfigKey current_npc choco
	NpcNear /Choco/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do conf current_npc kafra

	}
}

automacro moveBradeGrounds {
	exclusive 1
	QuestInactive 7122
	InInventoryID 13040 = 0
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	NpcNotNear /Brade/
	priority 1
	call moveBradeGrounds
}

automacro talkBradeonGroundsGetQuest {
	exclusive 1
	QuestInactive 7122
	InInventoryID 13040 = 0
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	NpcNear /Brade/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do conf route_randomWalk 1
		do conf itemsTakeAuto 2
		$potName = GetNamenyNameID(569)
		do conf useSelf_item_0 $potName
		do conf useSelf_item_0_disabled 0
		do conf useSelf_item_0_hp < 60%
		do conf getAuto_0 $potName
		do conf getAuto_0_minAmount 20
		do conf getAuto_0_maxAmount 200
		do conf getAuto_0_passive 0
		do mconf Lunático 0 0 0
		do mconf Poring 1 0 0
		do mconf Drops 0 0 0
		do conf attackAuto 2
	}
}

automacro moveBradeCompleteQuest {
	exclusive 1
	QuestHuntCompleted 7122 1002
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	NpcNotNear /Brade/
	priority 1
	call moveBradeGrounds
}

macro moveBradeGrounds {
	do mconf Lunático 0 0 0
	do mconf Poring 0 0 0
	do mconf Drops 0 0 0
	do conf attackAuto 0
	do move 99 31
}

automacro talkBradeonGroundsCompleteQuest {
	exclusive 1
	QuestHuntCompleted 7122 1002
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	NpcNear /Brade/
	call {
		do talk $.NpcNearLastBinId
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		do talk cont
		add_key("quest_atual" , "lunaticos")
	}
}

automacro equipStuffForBradeGrounds {
	exclusive 1
	QuestInactive 7122
	InInventoryID 13040 = 1
	IsNotEquippedID rightHand 13040
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	call {
		$check = GetIndexAndEquipped("rightHand", 13040)
		if ($check != -1) {
			do eq $check
		}
	}
}

automacro LastBradeBug {
	NpcMsg /Você ainda está fazendo o curso do instrutor Brade/
	exclusive 1
	priority 0
	call {
		call moveBradeGrounds
		do talk &npc(/Brade/)
		pause 0.5
		do talk cont
		pause 0.5
		do talk cont
		pause 0.5
		do talk cont
		pause 0.5
		do talk cont
		pause 0.5
		do talk cont
		pause 0.5
		do talk cont
		add_key("quest_atual" , "lunaticos")
	}
}


# Quest de lunaticos , pickys e salgueiros by Nipodemos
# Inspirada na macro de 1 a 99 do CALF
automacro começar quest lunaticos {
ConfigKey quest_atual lunaticos
exclusive 1
QuestInactive 7124
InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
run-once 1
call {
	log ======== Indo pegar quest para lunaticos
	do move &rand(103,105) &rand(36,38)
	pause 2
	do talk &npc(/Mago/)
	do talk cont
	do talk resp 2
	do talk cont
}
}

automacro caçando lunaticos {
QuestActive 7124
NpcMsgName /Lança de Fogo/ /Mago/
InMap new_1-3, new_2-3, new_3-3
run-once 1
call {
	[
	do mconf Lunático 1 0 0
	do mconf Poring 0 0 0
	do mconf Drops 0 0 0
	do conf attackAuto 2
	]
	log ======== Indo matar lunaticos
	call voltarAtacar
}
}

automacro lockMap setado quando nao deveria {
	ConfigKeyNot lockMap none
	exclusive 1
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	call {
	do conf lockMap none
	do conf attackAuto_inLockOnly 0

	}

}

automacro matei lunaticos {
QuestHuntCompleted 7124 1063
exclusive 1
InMap new_1-3, new_2-3, new_3-3
call {
	[
	call pararDeAtacar
	do mconf Lunático 0 0 0
	do mconf Poring 0 0 0
	do mconf Drops 0 0 0
	]
	do move &rand(103,105) &rand(36,38)
	pause 2
	log ======== terminando quest de lunaticos
	do talk &npc(/Mago/)
	do talk cont
	do talk resp 2
	do talk cont#Mago
	do conf quest_atual pickys_e_salgueiros
}
}

automacro começar quest pickys e salgueiros{
ConfigKey quest_atual pickys_e_salgueiros
NpcNear /Espadachim/
QuestInactive 7123, 7127
exclusive 1
run-once 1
InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
call {
	log ======== Indo pegar quest para  Picks
	pause 2
	do talk &npc(/Espadachim/)
	do talk cont
	do talk resp 2
	do talk cont
	do talk cont
	do talk cont
	pause 3
	log ======== Indo pegar quest para  Salgueiro
	do talk &npc(/Gatuno/)
	do talk cont
	do talk resp 2
	do talk cont
	do talk cont
}
}

automacro começar quest pickys e salgueiros bugged {
ConfigKey quest_atual pickys_e_salgueiros
NpcNotNear /Espadachim/
exclusive 1
run-once 1
QuestInactive 7123, 7127
call {
	do move &rand(103,105) &rand(36,38)
}
}
automacro mudar para treino mais pesado bugged {
	QuestActive 7123
	QuestActive 7127
	exclusive 1
	NpcNotNear /Treinador/
	InMap new_1-3, new_2-3, new_3-3
	call {
	do move &rand(103,105) &rand(36,38)

}
}
automacro mudar para treino mais pesado {
	QuestActive 7123
	QuestActive 7127
	exclusive 1
	NpcNear /Treinador/
	InMap new_1-3, new_2-3, new_3-3
	call {
		do move &rand(103,105) &rand(36,38)
		pause 3
		log ======== mudando pra mapa onde tem pickys e salgueiros
		do talk &npc(/Treinador/) #Treinador
		do talk cont
		do talk cont
		do talk cont
		do talk resp 1
		do talk cont
	}
}

automacro caçando pickys e Salgueiro {
QuestActive 7123, 7127
InMap new_4-3, new_5-3
run-once 1
exclusive 1
call {
	[
	do conf attackAuto 2
	do conf route_randomWalk 1
	do mconf Zangão 0 0 0
	do mconf Fabre 0 0 0
	do mconf Picky 1 0 0
	do mconf Salgueiro 1 0 0
	log ======== Indo matar pickys e salgueiros
	]
}
}

automacro se morrer enquanto mata pickys_e_salgueiros {
QuestActive 7123, 7127
CurrentHP >= 50%
IsInCoordinate 95 21
InMap new_1-3, new_2-3, new_3-3
exclusive 1
call {
	do mconf Lunático 0 0 0
	do conf attackAuto 0
	do conf route_randomWalk 0
	do move &rand(103,105) &rand(36,38)
	log ======== mudando pra mapa onde tem pickys e salgueiros
	do talk &npc(/Treinador/) #Treinador
	do talk cont
	do talk cont
	do talk cont
	do talk resp 1
	do talk cont
	do conf attackAuto 2
	do conf route_randomWalk 1
}
}

automacro matei pickys {
QuestHuntCompleted 7123 1049
exclusive 1
InMap new_4-3, new_5-3
run-once 1
call {
	[
	do mconf Zangão 0 0 0
	do mconf Fabre 0 0 0
	do mconf Picky 0 0 0
	do mconf Salgueiro 1 0 0
	do conf attackAuto 0
	do conf route_randomWalk 0
	]
	do move &rand(103,105) &rand(36,38)
	pause 2
	do talk &npc(/Espadachim/)
	do talk cont
	do talk resp 2
	do conf attackAuto 2
	do conf route_randomWalk 1

}
}
automacro matei salgueiros {
QuestHuntCompleted 7127 1010
exclusive 1
InMap new_4-3, new_5-3
run-once 1
call {
	[
	do mconf Zangão 0 0 0
	do mconf Fabre 0 0 0
	do mconf Picky 0 0 0
	do mconf Salgueiro 1 0 0
	do conf attackAuto 0
	do conf route_randomWalk 0
	]
	pause 2
	do move &rand(103,105) &rand(36,38)
	do talk &npc(/Gatuno/)
	do talk cont
	do talk resp 2
	log ======== Completei todas as Quests
	do conf quest_atual todas_completadas
}
}
automacro continuar upando ate 12 {
ConfigKey quest_atual todas_completadas
BaseLevel < 12
exclusive 1
run-once 1
InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
call {
	[
	do conf attackAuto 2
	do mconf Zangão 1 0 0
	do mconf Fabre 1 0 0
	do mconf Picky 1 0 0
	do mconf Salgueiro 1 0 0
	do mconf Lunático 1 0 0
	do mconf Poring 1 0 0
	do mconf Drops 1 0 0
	do conf route_randomWalk 1
	]
	log ======== Vou continuar upando até chegar nivel 12
}
}

automacro se morrer enquanto upa ate lvl 12 {
ConfigKey quest_atual todas_completadas
CurrentHP >= 50%
IsInCoordinate 95 21
InMap new_1-3, new_2-3, new_3-3
exclusive 1
call {
	do mconf Lunático 0 0 0
	do conf attackAuto 0
	do conf route_randomWalk 0
	do move &rand(103,105) &rand(36,38)
	log ======== mudando pra mapa onde tem pickys e salgueiros
	do talk &npc(/Treinador/) #Treinador
	do talk cont
	do talk cont
	do talk cont
	do talk resp 1
	do talk cont
	do conf attackAuto 2
	do conf route_randomWalk 1
}
}

automacro endleveling {
	exclusive 1
	JobLevel 10
	BaseLevel > 11
	ConfigKey quest_atual todas_completadas
	InMap new_1-3, new_2-3, new_3-3, new_4-3, new_5-3
	priority 1
	call {
		do move &rand(103,105) &rand(36,38)
		do talk &npc(/Gatuno/)
		do talk cont
		do talk resp 1
		do talk cont
		do talk cont
		do talk resp 1
		do talk resp 0
		log ======== Agora vou virar gatuno!!!
		do conf quest_atual none
	}
}
automacro virandoGatunoBugged {
BaseLevel = 12
InMap moc_prydb1
SkillLevel NV_BASIC = 0
run-once 1
exclusive 1
call {
	log ======== As Habilidades básicas nao foram distribuídas!!!
	log ======== Vamos mudar isso
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do skills add NV_BASIC
	do conf skillsAddAuto 1
	do conf skillsAddAuto_list NV_BASIC 9
	}
}

#virar gatuno na pirâmide e ir para o grupo Eden
automacro virando gatuno {
BaseLevel = 12
InMap moc_prydb1
SkillLevel NV_BASIC = 9
run-once 1
exclusive 1
call {
	do conf route_randomWalk 0
	do move &rand(44,46) &rand(127,129)
	do talknpc 42 133 c r1 c r1 c c c c  #Mestre Gatuno
	#1243#Adaga_do_Aprendiz#
	#2112#Vembrassa_do_Aprendiz#
	#2414#Sandálias_do_Aprendiz#
	#2510#Capuz_do_Aprendiz#
	#2352#Traje_do_Aprendiz#
	#5055#Chapéu_de_Ovo_do_Aprendiz#
	#13041#Main Gauche de Iniciante#

	$check = GetIndexAndEquipped("rightHand",1243) #Adaga_do_Aprendiz#
			if ($check != -1) {
				do drop $check
				pause 1
			}
	$check = GetIndexAndEquipped("leftHand",2112)#Vembrassa_do_Aprendiz#
			if ($check != -1) {
				do drop $check
			}
	$check = GetIndexAndEquipped("shoes",2414) #Sandálias_do_Aprendiz#
			if ($check != -1) {
				do drop $check
			}
	$check = GetIndexAndEquipped("robe",2510) #Capuz_do_Aprendiz#
			if ($check != -1) {
				do drop $check
			}
	$check = GetIndexAndEquipped("armor",2352) #Chapéu_de_Ovo_do_Aprendiz#
			if ($check != -1) {
				do drop $check
			}
	$check = GetIndexAndEquipped("topHead",5055) #Chapéu_de_Ovo_do_Aprendiz#
			if ($check != -1) {
				do drop $check
			}
	$check = GetIndexAndEquipped("rightHand",13041) # main gauche de iniciante
			if ($check != -1) {
				do eq $check
			}
	do talknpc 53 126 c c r0 c #Oficial do Eden
}
}
automacro registrando no eden {
BaseLevel = 12
InInventoryID 6219 = 0 # Emblema do grupo valhalla
InMap moc_para01
exclusive 1
run-once 1
call {
	do move &rand(33,35) &rand(25,27) #posição excelente no Eden
	do talknpc 27 35 c r1 c r0 t=kk c c c c t=kk c c c c r5 #Lenore Inscrição Eden
}
}

automacro Eden12ComeçandoQuest {
BaseLevel = 12
InInventoryID 6219 = 1 # Emblema do grupo valhalla
InMap moc_para01
ConfigKeyNot quest_eden em_curso
exclusive 1
run-once 1
call {
	do move &rand(33,35) &rand(25,27) #posição excelente no Eden
	do talknpc 36 38 c r1 c r0 #Placas 11-25 Condores
	do talknpc 25 35 c r1 c c c c c r0 c r0 c c c c c c #Boya
	add_key ("quest_eden","em_curso")
	call SetSaveInMorocc
}
}
automacro Eden12DesertoSograt {
QuestActive 7128
ConfigKey saveMap morocc
exclusive 1
run-once 1
call {
	do move moc_fild11 &rand(181,183) &rand(254,256)
	do talknpc 180 253 c c r1 c c c #Cão Falante Condores
}
}

automacro Eden12CaçandoCondor {
QuestActive 7129
exclusive 1
run-once 1
call {
	[
	do conf lockMap moc_fild11
	do mconf Filhote de Lobo 0 0 0
	do mconf Escorpião 0 0 0
	do mconf Condor 1 0 0
	]
	call voltarAtacar
	log vou caçar condor
}
}

automacro Eden12CaçandoCondorFIM {
QuestHuntCompleted 11115 1009
QuestHuntCompleted 7129 1009
exclusive 1
run-once 1
call {
	call pararDeAtacar
	log ===== terminei de caçar condor
	do move moc_fild11 &rand(181,183) &rand(254,256)
	do talknpc 180 253 c c c c c c #Cão Falante filhotes de lobo
}
}

automacro Eden12CaçandoFilhoteDeLobo {
QuestActive 7130
exclusive 1
run-once 1
call {
	[
	do mconf Filhote de Lobo 1 0 0
	do mconf Escorpião 0 0 0
	do mconf Condor 0 0 0
	]
	call voltarAtacar
	log Vou caçar lobinhos
}
}

automacro Eden12CaçandoFilhoteDeLoboFIM {
QuestHuntCompleted 7130 1107
exclusive 1
run-once 1
call {
	call pararDeAtacar

}
}

automacro Eden12CaçandoEscorpiões {
QuestActive 7131
exclusive 1
run-once 1
call {
	[
	do mconf Filhote de Lobo 0 0 0
	do mconf Escorpião 1 0 0
	do mconf Condor 0 0 0
	]
	call voltarAtacar
	log vou caçar escorpiões
}
}


automacro Eden12CaçandoEscorpiõesFIM {
QuestHuntCompleted 7131 1001
exclusive 1
run-once 1
call {
	call pararDeAtacar
	log completei tudo
	do move moc_fild11 &rand(181,183) &rand(254,256)
	do talknpc 180 253 c c c c c #Cão Falante fim
}
}

automacro Eden12Finalizando {
QuestActive 7132
exclusive 1
run-once 1
call {
log vamo lá pegar nossos equips de direito!
do conf lockMap none
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 32 30 c #Spikle#Tuto entrega da quest de condores placas
do talknpc 25 35 c c c #Boya
add_key ("quest_eden", "12_Terminando")
}
}

#fim da quest equipamentos Eden 12 a 19
automacro Eden12PegarOsEquips {
ConfigKey quest_eden 12_Terminando
InMap moc_para01
exclusive 1
priority 2
run-once 1
call {
do move moc_para01 &rand(112,114) &rand(31,33)
do talknpc 112 96 c r0 c r1 c c c c #Administrador Mihael
# 2456#Botas Valhalla Iniciantes#
# 2560#Capa Valhalla#
# 5583#Chapéu Valhalla#
# 15009#Uniforme Valhalla Iniciante#

$check = GetIndexAndEquipped("shoes",2456)#Botas Valhalla Iniciantes#
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("robe",2560)#Capa Valhalla#
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("topHead",5583)#Chapéu Valhalla#
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("armor",15009)#Uniforme Valhalla Iniciante#
			if ($check != -1) {
				do eq $check
			}
do conf quest_eden 12_terminado
}
}

#upar ate lvl 26
automacro upAteLv26 {
ConfigKey quest_eden 12_terminado
BaseLevel < 26
exclusive 1
ConfigKeyNot lockMap pay_fild07
call {
	do conf lockMap pay_fild07
	call SetSaveInPayon
	call voltarAtacar
}
}

######################################
## EQUIPS EDEN INTERMEDIÁRIO LVL 26 ##
## INSPIRADO NA QUEST FEITA POR CALF##
######################################

automacro Eden26Começando {
BaseLevel = 26
JobID 6 #gatuno
exclusive 1
run-once 1
QuestInactive 7138
QuestInactive 7139
QuestIncatvie 7140
call {
call pararDeAtacar
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 25 35 c c r1 c c c c c c #Boya

}
}

automacro Eden26VilaDosArqueiros {
QuestActive 7138
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
do move pay_arche &rand(44,46) &rand(132,134)
do talknpc 41 136 c c c c c c c c #Coral
}
}

automacro Eden26CaçandoEsqueletos {
QuestActive 7139
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
do conf lockMap pay_dun00
call voltarAtacar
[
do mconf Esqueleto 1 0 0
do mconf Poporing 0 0 0
do mconf Zumbi 0 0 0
]
}
}

automacro Eden26CaçandoEsqueletosFIM {
QuestHuntcompleted 7139 1076
exclusive 1
JobID 6 #gatuno 6 #gatuno
run-once 1
call {
call pararDeAtacar
do move pay_arche &rand(44,46) &rand(132,134)
do talknpc 41 136 c c c c c #Coral
}
}

automacro Eden26CaçandoPoporings {
QuestActive 7140
exclusive 1
run-once 1
JobID 6 #gatuno 6 #gatuno
call {
call voltarAtacar
[
do mconf Esqueleto 0 0 0
do mconf Poporing 1 0 0
do mconf Zumbi 0 0 0
]
}
}

automacro Eden26CaçandoPoporingsFIM {
QuestHuntCompleted 7140 1031
exclusive 1
run-once 1
JobID 6 #gatuno 6 #gatuno
call {
call pararDeAtacar
do move pay_arche &rand(44,46) &rand(132,134)
do talknpc 41 136 c c c #Coral
[
do mconf Esqueleto 1 0 0
do mconf Poporing 1 0 0
do mconf Zumbi 1 0 0
]
}
}

automacro Eden26CuraCoral {
QuestHuntOngoing 7139 1076, 7140 1031
CurrentHp < 30%
exclusive 1
call {
call pararDeAtacar
do move pay_arche &rand(44,46) &rand(132,134)
do talknpc 41 136 c #Coral
call voltarAtacar
}
}

automacro Eden26Finalizar {
QuestActive 7141
exclusive 1
run-once 1
call {
do conf lockMap none
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 25 35 c c #Boya
add_key ("quest_eden", "26_Terminando")
}
}

automacro Eden26PegandoOsEquips {
ConfigKey quest_eden 26_Terminando
exclusive 1
run-once 1
call {
do move moc_para01 &rand(112,114) &rand(31,33)
do talknpc 112 96 c r0 c c c c c r1 c c #Administrador Mihael

$check = GetIndexAndEquipped("shoes",2457)#Botas Valhalla Intermediárias
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("rightHand",13051)#Adaga Valhalla Iniciante
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("armor",15010)#Uniforme Valhalla Intermediário
			if ($check != -1) {
				do eq $check
			}

do conf quest_eden 26_terminado
}
}

automacro upAteLv40 {
ConfigKey quest_eden 26_terminado
BaseLevel < 40
ConfigKeyNot lockMap gef_fild02
exclusive 1
JobID 6 #gatuno 6 #gatuno
run-once 1
call {
do conf lockMap gef_fild02
call voltarAtacar
call SetSaveInGeffen
}
}


#####################################
## EQUIPS EDEN AVANçADO LVL 40      ##
## ISPIRADA NA QUEST FEITA POR CALF ##
#####################################

automacro Eden40Começando {
BaseLevel = 40
JobID 6 #gatuno
exclusive 1
run-once 1
call {
call pararDeAtacar
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 25 35 c r0 c c c c c c #Boya
}
}

automacro Eden40AldeiaDosOrcs {
QuestActive 7147
exclusive 1
run-once 1
call {
do move in_orcs01 &rand(34,36) &rand(162,164)
do talknpc 38 175 c c c c c c c #Absalom#para07
}
}

automacro Eden40CaçandoFilhoteOrc {
QuestActive 7148
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
do conf lockMap gef_fild10
call voltarAtacar
[
do mconf Guerreiro Orc 0 0 0
do mconf Filhote de Orc 1 0 0
do mconf Senhora Orc 0 0 0
]
}
}

automacro Eden40CaçandoFilhoteOrcFIM {
QuestHuntCompleted 7148 1686
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
call pararDeAtacar
do move in_orcs01 &rand(34,36) &rand(162,164)
do talknpc 38 175 c c c #Absalom#para07
}
}

automacro Eden40CaçandoGuerreiroOrc {
QuestActive 7149
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
voltarAtacar
[
do mconf Guerreiro Orc 1 0 0
do mconf Filhote de Orc 0 0 0
do mconf Senhora Orc 0 0 0
]
}
}

automacro Eden40CaçandoGuerreiroOrcFIM {
QuestHuntCompleted 7149 1023
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
call pararDeAtacar
do move in_orcs01 &rand(34,36) &rand(162,164)
do talknpc 38 175 c c c #Absalom#para07
}
}

automacro Eden40CaçandoSenhoraOrc {
QuestActive 7150
JobID 6 #gatuno 6 #gatuno
exclusive 1
run-once 1
call {
call voltarAtacar
[
do mconf Guerreiro Orc 0 0 0
do mconf Filhote de Orc 0 0 0
do mconf Senhora Orc 1 0 0
]
}
}

automacro Eden40CaçandoSenhoraOrcFIM {
QuestHuntCompleted 7150 1273
exclusive 1
run-once 1
call {
call pararDeAtacar
[
do mconf Guerreiro Orc 1 0 0
do mconf Filhote de Orc 1 0 0
do mconf Senhora Orc 1 0 0
]
do move in_orcs01 &rand(34,36) &rand(162,164)
do talknpc 38 175 c c #Absalom#para07
}
}

automacro Eden40CuraAbsalom {
QuestActive 7148, 7149, 7150
exclusive 1
CurrentHp < 30%
call {
call pararDeAtacar
do move in_orcs01 &rand(34,36) &rand(162,164)
do talknpc 38 175 c #Absalom#para07
call voltarAtacar
}
}

automacro Eden40Finalizar {
QuestActive 7151
exclusive 1
run-once 1
call {
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 25 35 c c #Boya
add_key ("quest_eden", "40_Terminando")
}
}

automacro Eden40PegandoOsEquips {
ConfigKey quest_eden 40_Terminando
exclusive 1
run-once 1
call {
do move moc_para01 &rand(112,114) &rand(31,33)
do talknpc 112 96 c r0 c c c r1 c c #Administrador Mihael

$check = GetIndexAndEquipped("shoes",2458)#Botas Valhalla Avançadas
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("rightHand",13051)#Adaga Valhalla Intermediária
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("armor",15011)#Uniforme Valhalla Avançado
			if ($check != -1) {
				do eq $check
			}
			do conf quest_eden 40_terminado
}
}

#up até job 50
automacro up job 50 {
JobID 6 #gatuno 6 #gatuno
ConfigKey quest_eden 40_terminado
exclusive 1
JobLevel < 50
run-once 1
call {
do conf lockMap gef_fild03
call voltarAtacar
}
}

#From- Macro Quest Arruaceiro 2.0
#By Gaspel
#Edited- by CALF

automacro virarArruaceiro1 {
JobID 6 #gatuno 6 #gatuno
JobLevel = 50
priority 2
run-once 1
QuestInactive 2017
QuestInactive 2018
QuestInactive 2023
QuestInactive 2024
QuestInactive 2026
ConfigKeyNot virarArruaceiro true
call {
call pararDeAtacar
add_key ("virarArruaceiro","true")
do move in_rogue 370 119
do talknpc 363 122 c r0 r0 r0 r2 r3 r1 r3 r2 r1 r0 r1 c c c #Arruaceira da Guilda

}
}

automacro virarArruaceiro2 {
JobID 6 #gatuno 6 #gatuno
QuestActive 2017
exclusive 1
run-once 1
call {
do move in_rogue 372 23
do talknpc 376 23 c  #Smith
}
}

automacro virarArruaceiro3 {
JobID 6 #gatuno 6 #gatuno
QuestActive 2018
exclusive 1
timeout 100
call  {
[
do iconf Erva Azul 7 1 0
do iconf Unha Apodrecida 10 1 0
do iconf Osso 10 1 0
do iconf Mandíbula Horrenda 10 1 0
]
$ervaAzul       = &invamount (Erva Azul)
$unhaApodrecida = &invamount (Unha Apodrecida)
$osso           = &invamount (Osso)
$mandibula      = &invamount (Mandíbula Horrenda)
if ($ervaAzul < 6 ) goto Erva
if ($ervaAzul >= 6 && $unhaApodrecida < 10 ) goto Unha
if ($ervaAzul >= 6 && $unhaApodrecida >= 10 && $osso < 10) goto Osso
if ($ervaAzul >= 6 && $unhaApodrecida >= 10 && $osso >= 10 && $mandibula < 10 ) goto Mandibula
if ($ervaAzul >= 6 && $unhaApodrecida >= 10 && $osso >= 10 && $mandibula >= 10 ) goto Npc


:Erva
log Pegar Erva
[
do conf lockMap cmd_fild02
call voltarAtacar
]
stop


:Unha
log Pegar Unha
[
do conf lockMap pay_dun00
call voltarAtacar
]
stop


:Osso
log Pegar Osso
[
do conf lockMap pay_dun01
do conf route_randomWalk 1
]
stop


:Mandibula
log Pegar mandibula
[
do conf lockMap pay_dun00
do conf route_randomWalk 1
]
stop


:Npc
log Vamos No NPC já temos os Itens...
call pararDeAtacar
do move in_rogue 372 23
do talknpc 376 23 c #Smith
do talknpc 376 23 c #Smith
do talknpc 376 23 c #Smith
stop
}
}

automacro virarArruaceiro4.0 {
JobID 6 #gatuno 6 #gatuno
QuestActive 2022
exclusive 1
JobLevel = 50
run-once 1
call {
do eq &inventory (Punhal de Iniciante [3])
do move cmd_fild09 107 195
pause 1
do talk cont
pause 1
do talk resp 1
pause 1
do talk resp 2
pause 1
do talk resp 1
pause 1
do talk resp 0
pause 1
do talk cont
}
}

automacro virarArruaceiro4.1 {
JobID 6 #gatuno 6 #gatuno
QuestActive 2023
exclusive 1
JobLevel = 50
run-once 1
call {
do eq &inventory (Main Gauche de Iniciante [3])
do move cmd_fild04 304 180
pause 1
do talk cont
pause 1
do talk resp 2
pause 1
do talk resp 1
pause 1
do talk resp 1
pause 1
do talk resp 2
pause 1
do talk cont
}
}

automacro virarArruaceiro4.2 {
QuestActive 2024
exclusive 1
JobLevel = 50
run-once 1
call {
do eq &inventory (Túnica de Iniciante [1])
do move cmd_fild09 335 143
pause 1
do talk cont
pause 1
do talk resp 0
pause 1
do talk resp 2
pause 1
do talk resp 4
pause 1
do talk resp 0
pause 1
do talk cont
}
}

automacro virarArruaceiro5.0 {
QuestActive 2026
IsEquippedID rightHand 13040 #Punhal de Iniciante
JobLevel = 50
NotInMap in_rogue
run-once 1
call {
do move cmd_fild09 107 195
pause 1
do talk cont
pause 1
do talk resp 1
pause 1
do talk resp 2
pause 1
do talk resp 1
pause 1
do talk resp 0
pause 1
do talk cont
}
}

automacro virarArruaceiro5.1 {
IsEquippedID rightHand 13041 $main gauche de iniciante
QuestActive 2026
JobLevel = 50
exclusive 1
run-once 1
call {
do move cmd_fild04 304 180
pause 1
do talk cont
pause 1
do talk resp 2
pause 1
do talk resp 1
pause 1
do talk resp 1
pause 1
do talk resp 2
pause 1
do talk cont
}
}

automacro virarArruaceiro5.2 {
IsEquippedID 2393 #Túnica de Iniciante
QuestActive 2026
JobLevel = 50
NotInMap in_rogue
run-once 1
call {
do move cmd_fild09 335 143
pause 1
do talk cont
pause 1
do talk resp 0
pause 1
do talk resp 2
pause 1
do talk resp 4
pause 1
do talk resp 0
pause 1
do talk cont
}
}

automacro virarArruaceiro6.0 {

JobLevel = 50
IsInMapAndCoordinate in_rogue 169 34
run-once 1
call {
do talknpc 160 34 c r0 c
}
}

automacro virarArruaceiro6.1 {
JobLevel =50
IsInMapAndCoordinate in_rogue 246 25
run-once 1
call {
do move in_rogue 244 33
do talknpc 244 39 c r0 c
}
}


automacro virarArruaceiro6.2 {
JobLevel == 50
IsInMapAndCoordinate in_rogue 164 106
run-once 1
call {
do move in_rogue 172 108
do talknpc 177 109 c r0 c

}
}

automacro virarArruaceiro7 {
JobLevel = 50
exclusive 1
IsInMapAndCoordinate in_rogue 15 105
run-once 1
call {
do conf attackAuto -1
do conf itemsTakeAuto 0
do move in_rogue 359 117
}
}

automacro virarArruaceiro8 {
JobLevel = 50
IsInMapAndCoordinate in_rogue 359 117
run-once 10
call {
do move in_rogue 369 119
do talknpc 363 122 c c c
do eq &inventory (Chapéu Valhalla)
do eq &inventory (Capa Valhalla)
do eq &inventory (Adaga Valhalla Intermediária)
do eq &inventory (Botas Valhalla Avançadas)
do eq &inventory (Uniforme Valhalla Avançado)

$check = GetIndexAndEquipped("shoes",2458)#Botas Valhalla Avançadas
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("rightHand",13051)#Adaga Valhalla Intermediária
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("armor",15011)#Uniforme Valhalla Avançado
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("robe",2560)#Capa Valhalla#
			if ($check != -1) {
				do eq $check
			}
$check = GetIndexAndEquipped("topHead",5583)#Chapéu Valhalla#
			if ($check != -1) {
				do eq $check
			}
}
}

automacro upAteLv60 {
JobID 17 #arruaceiro
BaseLevel < 60
exclusive 1
run-once 1
call {
 if (&config(saveMap) != comodo) call SetSaveInComodo
[
do conf lockMap um_fild02
do conf itemsTakeAuto 1
call voltarAtacar
]
}
}

automacro Eden60Começo {
BaseLevel = 60
exclusive 1
JobID 17 #arruaceiro
run-once 1
QuestInactive 7214
QuestInactive 7215
QuestInactive 7216
QuestInactive 7217
QuestInactive 7218
ConfigKeyNot quest_eden em_curso
ConfigKeyNot quest_eden 60_Terminando
call {
call pararDeAtacar
do conf lockMap none
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 23 35 c r0 c c c c c r1 c c c c c c #Uru
do conf quest_eden em_curso
}
}

automacro Eden60Comodo {
QuestActive 7214
exclusive 1
run-once 1
call {
do move comodo &rand(174,176) &rand(344,346)
do talknpc 173 354 c c c c c #Mémbro do grupo Éden#2n
}
}

automacro Eden60CaçandoGolem1 {
QuestActive 7215
exclusive 1
run-once 1
call {
do conf lockMap beach_dun2
call voltarAtacar
}
}

automacro Eden60CaçandoGolem1FIM {
QuestHuntCompleted 7215 1278
exclusive 1
run-once 1
call {
call pararDeAtacar
do move comodo &rand(174,176) &rand(344,346)
do talknpc 173 354 c c c c c #Mémbro do grupo Éden#2n
}
}

automacro Eden60caçandogolens2 {
QuestActive 7216
exclusive 1
run-once 1
call {
call voltarAtacar
}
}


automacro Eden60caçandogolens2FIM {
QuestHuntCompleted 7216 1278
exclusive 1
run-once 1
call {
call pararDeAtacar
do move um_fild01 &rand(36,38) &rand(277,279)
do talknpc 34 280 c c c c #Romeo#2nd02
}
}

automacro Eden60JuntarFolhasEOmbreiras {
QuestActive 7217
exclusive 1
run-once 1
call juntando
}

macro juntando {
$inv1 = &invamount (Ombreira)
$inv2 = &invamount (Folha Afiada)
if ($inv1 < 5 ) goto Ombreira
if ($inv1 >= 5 && $inv2 < 7 ) goto Folha
if ($inv1 >= 5 && $inv2 >= 7 ) goto Juntei


:Ombreira
log Pegar Ombreiras
do conf lockMap um_fild02
do conf route_randomWalk 1
stop


:Folha
log Pegar Folhas
do conf lockMap um_fild01
do conf route_randomWalk 1
stop


:Juntei
log Vamos No NPC já temos os Itens.
do conf lockMap none
do conf route_randomWalk 0
do move um_fild01 &rand(36,38) &rand(277,279)
do talknpc 34 280 c  #Romeo#2nd02
stop
}

automacro Eden60CuraRomeo {
QuestActive 7215, 7216, 7217
exclusive 1
CurrentHP < 30%
call {
call pararDeAtacar
do move um_fild01 &rand(36,38) &rand(277,279)
do talknpc 34 280 c c #Romeo#2nd02
call voltarAtacar
}
}

automacro Eden60Finalizar {
QuestActive 7218
exclusive 1
run-once 1
call {
do conf lockMap none
call pararDeAtacar
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 23 35 c c c #Uru
do conf quest_eden 60_Terminando
}
}

automacro Eden60PegandoOsEquips {
ConfigKey quest_eden 60_Terminando
exclusive 1
run-once 1
call {
do move moc_para01 &rand(112,114) &rand(31,33)
do talknpc 111 83 c r2 c c r1 #Ferreiro Torhen#2nd10
$adagaEden = Adaga III do Grupo Éden
$chapeuEden = Chapéu II do Grupo Éden [1]
$capaEden = Capa II do Grupo Éden
$botasEden = Botas IV do Grupo Éden
$armaduraEden = Armadura do Grupo Éden
do eq &inventory ($adagaEden)
do eq &inventory ($chapeuEden)
do eq &inventory ($capaEden)
do eq &inventory ($botasEden)
do eq &inventory ($armaduraEden)
do talknpc 112 96 c r2 c c r4 c r0 c #Administrador Mihael(encanto de destreza do chapéu valhalla)
}
}

automacro upAteLv70 {
BaseLevel < 70
JobId 17
ConfigKey quest_eden 60_terminado
call{
call voltarAtacar
do conf lockMap um_fild02
if( &config(saveMap) != comodo) call SetSaveInComodo
}
}

#####################################
##       QUEST EDEN LVL 70         ##
##INSPIRADA NA MACRO FEITA POR CALF##
#####################################

automacro Eden70Come�o {
BaseLevel = 70
exclusive 1
NotInMap geffen
NotInMap gef_fild06
NotInMap gef_fild07
NotInMap gef_fild08
NotInMap gl_church
NotInMap glast_01
QuestInactive 7219
QuestInactive 7220
QuestInactive 7221
QuestInactive 7222
ConfigKeyNot quest_eden em_curso
run-once 1
call {
do conf lockMap none
call pararDeAtacar
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 23 35 c r0 c c c c c #Uru
add_key("quest_eden","em_curso")
call SetSaveInGeffen
}
}

automacro Eden70GeffenEGlastHeim {
QuestActive 7219
ConfigKey saveMap geffen
exclusive 1
run-once 1
call {
do move glast_01 &rand(200,202) &rand(125,127)
do talknpc 195 131 c r0 c c c c c c #membro do grupo eden Johan
}
}

automacro Eden70Ca�andoAlmas {
QuestActive 7220
exclusive 1
run-once 1
call {
do conf lockMap gl_church
call VoltarAtacar
}
}


automacro Eden70Ca�andoAlmasFIM {
QuestHuntCompleted 7220 1192
exclusive 1
run-once 1
call {
call pararDeAtacar
do move glast_01 &rand(200,202) &rand(125,127)
do talknpc 195 131 c c #membro do grupo eden Johan
}
}

automacro Eden70Ca�andoDruidas {
QuestActive 7221
exclusive 1
run-once 1
call {
call voltarAtacar
do conf lockMap gl_church
}
}

automacro Eden70Ca�andoDruidasFIM {
QuestHuntCompleted 7221 1117
exclusive 1
run-once 1
call {
call pararDeAtacar
do move glast_01 @rand(200,202) @rand(125,127)
do talknpc 195 131 c c c #membro do grupo eden Johan
}
}

automacro Eden70CuraJohan {
QuestActive 7220 , 7221
CurrentHp < 30%
exclusive 1
call {
call pararDeAtacar
do move glast_01 &rand(200,202) &rand(125,127)
do talknpc 195 131 c #membro do grupo eden Johan
call voltarAtacar
}
}

automacro Eden70Finalizar {
QuestActive 7222
exclusive 1
run-once 1
call {
do conf lockMap none
do move moc_para01 &rand(33,35) &rand(25,27)
}
}

automacro Eden70PegandoItens {
Configkey quest_eden 70_Terminando
exclusive 1
run-once 1
call {
$adagaValhalla = Adaga Valhalla Intermedi�ria
do eq &inventory ($adagaValhalla)
do move moc_para01 &rand(112,114) &rand(31,33)
do talknpc 112 79 c r0 c c r2 c c r0 c #Especialista BK#2nd11
$adagaGrupoEden = Adaga III do Grupo �den [ATQ+3%]
do eq &inventory ($adagaGrupoEden)
do conf quest_eden terminado
}
}

automacro upAteLv80 {
ConfigKey quest_eden terminado
BaseLevel < 80
exclusive 1
ConfigKeyNot lockMap gl_church
call {
call voltarAtacar
call SetSaveInGeffen
do conf lockMap gl_church
}
}

automacro Eden80Come�ando {
BaseLevel = 80
exclusive 1
QUestInactive 7223
QuestInactive 7224
QuestInactive 7226
QuestInactive 7227
ConfigKeyNot quest_eden em_curso
run-once 1
call {
call pararDeAtacar
do conf lockMap none
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 23 35 c r0 c c c c #Uru
do conf quest_eden em_curso
}
}

automacro Eden80IndoAteOAeroplano {
QuestActive 7223
exclusive 1
run-once 1
InMap moc_para 01
NotInMap airplane
NotInMap airport
NotInMap einbroch
call {
do move y_airport &rand(136,138) &rand(29,31)
do talknpc 143 43 c r0 c r0 #Assistente de aeroplano embarque
do talknpc 145 63 c r0 #Aux. V�os Dom�sticos
do move yuno &rand(96,98) &rand(261,263)
}
}

automacro Eden80IndoAEinbroch {
TODO
QuestActive 7223
exclusive 1
run-once 1
call {
}
}

automacro Eden80SalvandoEmEinbroch {
QuestActive 7223
InMap einbroch
run-once 1
exclusive 1
call {
call SetSaveInEinbroch
}
}

automacro Eden80Einbroch {
QuestActive 7223
InMap einbroch
ConfigKey saveMap einbroch
run-once 1
exclusive 1
call {
do move ein_fild08 &rand(164,166) &rand(364,366)
do talknpc 172 359 c c c c c #membro do grupo eden Girhen
}
}


automacro Eden80Ca�andoPorcelios {
QuestActive 7224
exclusive 1
run-once 1
call {
do conf lockMap ein_fild09
call voltarAtacar
}
}

automacro Eden80Ca�andoPorceliosFIM {
QuestHuntCompleted 7224 1619
exclusive 1
run-once 1
call {
call pararDeAtacar
do move ein_fild08 &rand(164,166) &rand(364,366)
do talknpc 172 359 c c c c c c #membro do grupo eden Girhen
}
}

automacro Eden80Ca�andoNuvens&Ursinhos {
QuestActive 7226
QuestActive 7227
exclusive 1
run-once 1
call {
do conf lockMap ein_fild04
call voltarAtacar
}
}

automacro Eden80Ca�andoNuvensFIM {
QuestHuntCompleted 7226 1621
exclusive 1
run-once 1
call {
call pararDeAtacar
do move ein_fild08 &rand(164,166) &rand(364,366)
do talknpc 172 359 c c #membro do grupo eden Girhen
call voltarAtacar
}
}

automacro Eden80Ca�andoUrsinhosFIM {
QuestHuntCompleted 7227 1622
exclusive 1
run-once 1
call {
do move ein_fild08 &rand(164,166) &rand(364,366)
do talknpc 172 359 c c #membro do grupo eden Girhen
call voltarAtacar
}
}

automacro Eden80CuraGirhen {
QuestActive 7224, 7226, 7227
CurrentHP < 30%
exclusive 1
call {
call pararDeAtacar
do move ein_fild08 &rand(164,166) &rand(364,366)
do talknpc 172 359 c #membro do grupo eden Girhen
call voltarAtacar
}
}

automacro Eden80Finalizar {
QuestActive 7228
exclusive 1
run-once 1
call {
do conf lockMap none
call pararDeAtacar
do move moc_para01 &rand(33,35) &rand(25,27)
do talknpc 23 35 c c  #Uru
add_key("quest_eden", "80_Terminando")
}
}

automacro Eden80PegarEquips {
ConfigKey quest_eden 80_Terminando
exclusive 1
run-once 1
call {
$adagaValhalla = Adaga Valhalla Intermedi�ria
do eq &inventory ($adagaValhalla)
do move moc_para01 &rand(112,114) &rand(31,33)
do talknpc 112 79 c r0 c c c c r2 c #Especialista BK#2nd11
$adagaGrupoEden = Adaga III do Grupo �den [ATQ+3%:Carta Caramelo]
do eq &inventory ($adagaGrupoEden)
do conf quest_eden 80_terminado
}
}

automacro UpAteLv90 {
ConfigKey quest_eden 80_terminado
BaseLevel < 90
exclusive 1
run-once 1
call {
call SetSaveInGeffen
call VoltarAtacar
do conf lockMap gl_church
}
}






macro pararDeAtacar {
	[
	do conf route_ramdonWalk 0
	do conf AttackAuto 0
	]
}
macro voltarAtacar {
	[
	do conf route_ramdonWalk 1
	do conf AttackAuto 2
	]
}

#Save configurations
macro SetSaveinAldebaran {
    add_key("saveMap_wanted", "aldebaran")
    add_key("saveMap_kafra_position", "143 119")
    add_key("saveMap_sellNpc_position", "aldebaran 165 107")

    add_key("saveMap_save_sequence", "c r0")
    add_key("saveMap_storage_sequence", "c r1")
    add_key("In_saveMap_sequence", "true")
}

macro SetSaveinJuno {
    add_key("saveMap_wanted", "yuno")
    add_key("saveMap_kafra_position", "152 187")
    add_key("saveMap_sellNpc_position", "yuno_in01 25 34")

    add_key("saveMap_save_sequence", "c r0")
    add_key("saveMap_storage_sequence", "c r1 ")
    add_key("In_saveMap_sequence", "true")
}

macro SetSaveinRachel {
    add_key("saveMap_wanted", "rachel")
    add_key("saveMap_kafra_position", "109 138")
    add_key("saveMap_sellNpc_position", "rachel 65 80")

    add_key("saveMap_save_sequence", "c r0")
    add_key("saveMap_storage_sequence", "c r1")
    add_key("In_saveMap_sequence", "true")
}

 macro SetSaveInComodo {
	add_key("saveMap_wanted", "comodo")
    add_key("saveMap_kafra_position", "195 150")
    add_key("saveMap_sellNpc_position", "cmd_in01 79 182")

    add_key("saveMap_save_sequence", "c r0")
    add_key("saveMap_storage_sequence", "c r1 ")
    add_key("In_saveMap_sequence", "true")
 }

macro SetSaveinProntera {

    add_key("saveMap_wanted", "prontera")
    add_key("saveMap_kafra_position", "151 29")
    add_key("saveMap_sellNpc_position", "prontera 113 42")

    add_key("saveMap_save_sequence", "c r0")
    add_key("saveMap_storage_sequence", "c r1")
    add_key("In_saveMap_sequence", "true")
}

macro SetSaveInPayon {
	add_key("saveMap_wanted", "payon")
	add_key("saveMap_kafra_position", "181 104")
	add_key("saveMap_sellNpc_position", "payon_in01 5 49")

	add_key("saveMap_save_sequence", "c r0")
	add_key("saveMap_storage_sequence", "c r1")
	add_key("In_saveMap_sequence", "true")
}

macro SetSaveInSewb {
	add_key("saveMap_wanted", "prt_fild05")
	add_key("saveMap_kafra_position", "290 224")
	add_key("saveMap_sellNpc_position", "prt_fild05 290 221")

	add_key("saveMap_save_sequence", "c r0")
	add_key("saveMap_storage_sequence", "c r1")
	add_key("In_saveMap_sequence", "true")
}

macro SetSaveInGeffen {
	add_key("saveMap_wanted", "geffen")
	add_key("saveMap_kafra_position", "120 62")
	add_key("saveMap_sellNpc_position", "geffen_in 74 144")

	add_key("saveMap_save_sequence", "c r0")
	add_key("saveMap_storage_sequence", "c r1")
	add_key("In_saveMap_sequence", "true")
}

macro SetSaveInMorocc {
	add_key("saveMap_wanted", "morocc")
	add_key("saveMap_kafra_position", "156 97")
	add_key("saveMap_sellNpc_position", "morocc_in 141 67")

	add_key("saveMap_save_sequence", "c r0 ")
	add_key("saveMap_storage_sequence", "c r1")
	add_key("In_saveMap_sequence", "true")
}

#### Kafra Save
automacro set_savemap_variables {
	exclusive 1
	run-once 1
	ConfigKey In_saveMap_sequence true
	priority -4
	call {
		$saveMap = &config(saveMap_wanted)
	}
}

automacro moveLocKafraOutside {
	exclusive 1
	ConfigKey In_saveMap_sequence true
	ConfigKeyNot saveMap_wanted none
	ConfigKeyNot saveMap $saveMap
	NotInMap $saveMap
	call move_to_near_kafra
}

automacro moveLocKafraInside {
	exclusive 1
	ConfigKeyNot saveMap $saveMap
	ConfigKeyNot saveMap_wanted none
	NpcNotNear /(Kafra Employee|Funcionária Kafra)/
	InMap $saveMap
	call move_to_near_kafra
}

macro move_to_near_kafra {
	do move $saveMap &config(saveMap_kafra_position) &random("1","2","3","4","5","6")
}

automacro talkKafraEmployee {
	ConfigKey In_saveMap_sequence true
	ConfigKeyNot saveMap $saveMap
	ConfigKeyNot saveMap_wanted none
	InMap $saveMap
	NpcNear /(Kafra Employee|Funcionária Kafra)/
	delay 2
	timeout 20
	call {
		log talking to kafra at '&arg("$.NpcNearLastPos", 1) &arg("$.NpcNearLastPos", 2)' using sequence '&config(saveMap_save_sequence)'
		do talknpc &arg("$.NpcNearLastPos", 1) &arg("$.NpcNearLastPos", 2) &config(saveMap_save_sequence)
	}
}

automacro SavedAtKafra {
	exclusive 1
	priority -5
	NpcMsgName /O seu Ponto de Retorno foi salvo/ /(Kafra Employee|Funcionária Kafra)/
	ConfigKeyNot saveMap $saveMap
	ConfigKey In_saveMap_sequence true
	InMap $saveMap
	call {
		do conf saveMap $saveMap
		do conf storageAuto_npc $saveMap &config(saveMap_kafra_position)
		do conf storageAuto 1
		do conf sellAuto 1
		do conf sellAuto_npc &config(saveMap_sellNpc_position)
		do conf storageAuto_npc_type 3
		do conf storageAuto_npc_steps &config(saveMap_storage_sequence)
		do conf In_saveMap_sequence false
		do conf saveMap_save_sequence none
		do conf saveMap_storage_sequence none
		do conf saveMap_wanted none
		do conf saveMap_kafra_position none
		do conf saveMap_sellNpc_position none
		release set_savemap_variables
	}
}



sub GetIndexAndEquipped {
	my ($type, $id) = @_;
	my $Item = $char->inventory->getByNameID($id);
	my $EquipIndex = $Item->{invIndex};
	if (my $equipItem = $char->{equipment}{$1}) {
		if ($equipItem->{nameID} == $id) {
			return -1;
		} else {
			return $EquipIndex;
		}
	} else {
		return $EquipIndex;
	}
}

sub GetNamenyNameID {
	my $name = $items_lut{$_[0]};
	return $name;
}

sub nextMap {
	my $map = $_[0];
	if ($map =~ /^new_(\d)-(\d)$/) {
		return "new_".$1."-".($2+1);
	} else {
		return 0;
	}
}

sub add_key {
	my ($key, $value) = @_;
	configModify($key, $value);
}
